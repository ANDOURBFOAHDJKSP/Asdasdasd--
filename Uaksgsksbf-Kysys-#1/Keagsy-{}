-- Define the correct key
local Player = game:GetService("Players")

local correctKey = "UnknownHubXUniversal-HB8L9P0O8KB8L91L81J9LOP099BNCXZY77"

local keyFileName = "UnknownTQHub/KeyHub.txt"

-- Function to save the correct key to a file
local function saveKeyToFile(key)
    writefile(keyFileName, key)
end

local function runloadstring()
    loadstring(game:HttpGet('https://raw.githubusercontent.com/jOSHCLABC/GajdkavdfJ-Test--1/Test/Uaksgsksbf-Kysys-%231/Cfrm-%7B%7D'))()
end

-- Create GUI
local playergui = game:GetService("Players").LocalPlayer.PlayerGui or game.Players.LocalPlayer.PlayerGui
local gui = Instance.new("ScreenGui")
gui.Parent = playergui
gui.ResetOnSpawn = false -- Prevents the GUI from resetting on spawn

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0.4, 0, 0.4, 0) -- Increase size
frame.Position = UDim2.new(0.5, 0, 0.1, 0) -- Adjust position
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- Change background color to black
frame.BorderSizePixel = 0 -- Remove border
frame.Parent = gui
frame.ClipsDescendants = true -- Clip children within the frame boundaries

local mainCorner = Instance.new("UICorner") -- Make the frame corners round
mainCorner.CornerRadius = UDim.new(0.1, 0)
mainCorner.Parent = frame

local nameLabel = Instance.new("TextLabel")
nameLabel.Size = UDim2.new(1, 0, 0.2, 0) -- Increase size
nameLabel.Position = UDim2.new(0, 0, 0, 0)
nameLabel.Text = "Unknown Hub X Key System"
nameLabel.Font = Enum.Font.SourceSansBold -- Change font to SourceSansBold
nameLabel.TextColor3 = Color3.new(1, 1, 1) -- Change text color to white
nameLabel.TextStrokeTransparency = 0 -- Show text outline
nameLabel.TextStrokeColor3 = Color3.new(1, 0, 0) -- Set text outline color to red
nameLabel.TextScaled = true -- Enable text scaling
nameLabel.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- Change background color to black
nameLabel.Parent = frame

local textBox = Instance.new("TextBox")
textBox.Size = UDim2.new(0.8, 0, 0.2, 0)
textBox.Position = UDim2.new(0.1, 0, 0.3, 0) -- Adjust position
textBox.PlaceholderText = "Enter key"
textBox.Font = Enum.Font.SourceSansBold -- Change font to SourceSansBold
textBox.TextColor3 = Color3.new(1, 1, 1) -- Change text color to white
textBox.TextStrokeTransparency = 0 -- Show text outline
textBox.TextStrokeColor3 = Color3.new(1, 0, 0) -- Set text outline color to red
textBox.BackgroundColor3 = Color3.fromRGB(255, 255, 255) -- Change background color to black
textBox.Parent = frame

local checkButton = Instance.new("TextButton")
checkButton.Size = UDim2.new(0.3, 0, 0.1, 0)
checkButton.Position = UDim2.new(0.1, 0, 0.6, 0) -- Adjust position
checkButton.Text = "Check Key"
checkButton.Font = Enum.Font.SourceSansBold -- Change font to SourceSansBold
checkButton.TextColor3 = Color3.new(1, 1, 1) -- Change text color to white
checkButton.TextStrokeTransparency = 0 -- Show text outline
checkButton.TextStrokeColor3 = Color3.new(1, 0, 0) -- Set text outline color to red
checkButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255) -- Change background color to white
checkButton.Parent = frame

local getKeyButton = Instance.new("TextButton")
getKeyButton.Size = UDim2.new(0.3, 0, 0.1, 0)
getKeyButton.Position = UDim2.new(0.6, 0, 0.6, 0) -- Adjust position
getKeyButton.Text = "Get Key"
getKeyButton.Font = Enum.Font.SourceSansBold -- Change font to SourceSansBold
getKeyButton.TextColor3 = Color3.new(1, 1, 1) -- Change text color to white
getKeyButton.TextStrokeTransparency = 0 -- Show text outline
getKeyButton.TextStrokeColor3 = Color3.new(1, 0, 0) -- Set text outline color to red
getKeyButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255) -- Change background color to white
getKeyButton.Parent = frame

local icon = Instance.new("ImageLabel")
icon.Size = UDim2.new(0.1, 0, 0.2, 0) -- Set bigger size
icon.Position = UDim2.new(0.65, 0, -0.1, 0) -- Adjust position
icon.Image = "rbxassetid://17339439921" -- Set icon asset id
icon.Parent = frame
wait(0.1)
icon.Parent = gui

-- Function to handle correct key
local function correctKeyFunction()
    print("Key is correct!")
    game.StarterGui:SetCore("SendNotification", {
        Title = "Correct Key",
        Text = "Welcome To the Unknown Hub X",
        Duration = 20
    })
    runloadstring()
    saveKeyToFile(correctKey)  -- Save the correct key to a file
    wait(1) 
    destroyGui()
end

-- Function to handle incorrect key
local function incorrectKeyFunction()
    print("Key is incorrect!")
    game.StarterGui:SetCore("SendNotification", {
        Title = "Incorrect Key",
        Text = "Check The Key Pls",
        Duration = 10
    })
end

-- Function to destroy GUI
function destroyGui()
    gui:Destroy()
end

-- Function to check key
local function checkKey()
    if textBox.Text == correctKey then
        correctKeyFunction()
    else
        incorrectKeyFunction()
    end
end

checkButton.MouseButton1Click:Connect(checkKey)

-- Function to get key and set to clipboard
getKeyButton.MouseButton1Click:Connect(function()
    setclipboard("https://link-target.net/1030614/unknown-hub-x-tq")
    game.StarterGui:SetCore("SendNotification", {
        Title = "Key Copied",
        Text = "Key copied to clipboard!",
        Duration = 10
    })
end)

local function checkKeyFromFile()
    if isfile(keyFileName) then
        local savedKey = readfile(keyFileName)
        if savedKey == correctKey then
            correctKeyFunction()
        end
    end
end

checkKeyFromFile()
