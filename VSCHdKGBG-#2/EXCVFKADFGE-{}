local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
local SaveManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/SaveManager.lua"))()
local InterfaceManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/Unknownproootest/Unknown-TreasureQuest/Alt/Test_FixMinimizeKey"))()

local openshit = Instance.new("ScreenGui")
local mainopen = Instance.new("TextButton")
local mainopens = Instance.new("UICorner")
local loki = Instance.new("ImageLabel")
local posto = Instance.new("UIStroke")

openshit.Name = "openshit"
openshit.Parent = game:GetService("Players").LocalPlayer:WaitForChild("PlayerGui")
openshit.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
openshit.ResetOnSpawn = false

mainopen.Name = "mainopen"
mainopen.Parent = openshit
mainopen.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
mainopen.Position = UDim2.new(0.101969875, 0, 0.110441767, 0)
mainopen.Size = UDim2.new(0, 64, 0, 42)
mainopen.Text = ""
mainopen.Visible = true
mainopens.Parent = mainopen
 
loki.Name = "loki"
loki.Parent = mainopen
loki.BackgroundColor3 = Color3.fromRGB(224,224,224)
loki.BackgroundTransparency = 1.000
loki.Position = UDim2.new(-0.0529999994, 0, -0.244000003, 0)
loki.Size = UDim2.new(0, 69, 0, 62)
loki.Image = "rbxassetid://17339439921"
 
posto.Name = "posto"
posto.Parent = mainopen
posto.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
posto.Color = Color3.fromRGB(224,224,224)
posto.LineJoinMode = Enum.LineJoinMode.Round
posto.Thickness = 1
posto.Transparency = 0
posto.Enabled = true
posto.Archivable = true
 
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
 
local function MakeDraggable(topbarobject, object)
    local Dragging = nil
    local DragInput = nil
    local DragStart = nil
    local StartPosition = nil
    
    local function Update(input)
        local Delta = input.Position - DragStart
        local pos = UDim2.new(StartPosition.X.Scale, StartPosition.X.Offset + Delta.X, StartPosition.Y.Scale, StartPosition.Y.Offset + Delta.Y)
        local Tween = TweenService:Create(object, TweenInfo.new(0.15), {
            Position = pos
        })
        Tween:Play()
    end
    
    topbarobject.InputBegan:Connect(
        function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                Dragging = true
                DragStart = input.Position
                StartPosition = object.Position
                
                input.Changed:Connect(
                    function()
                        if input.UserInputState == Enum.UserInputState.End then
                            Dragging = false
                        end
                    end
                )
            end
        end
    )
    
    topbarobject.InputChanged:Connect(
        function(input)
            if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
                DragInput = input
            end
        end
    )
    
    UserInputService.InputChanged:Connect(
        function(input)
            if input == DragInput and Dragging then
                Update(input)
            end
        end
    )
end

MakeDraggable(mainopen, mainopen) -- Making the button draggable

local RunService = game:GetService("RunService")
local fpsCounter = Instance.new("ScreenGui")
fpsCounter.Parent = game.CoreGui
fpsCounter.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
fpsCounter.ResetOnSpawn = false

local label = Instance.new("TextLabel")
label.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
label.BackgroundTransparency = 1.000
label.TextColor3 = Color3.fromRGB(255, 255, 255)
label.Font = Enum.Font.GothamBlack
label.Size = UDim2.new(0, 150, 0, 70)
label.Position = UDim2.new(0, 200, 0, 10)
label.Text = "FPS: 0\nTime Played: 0h 0m 0s"
label.TextSize = 10
label.Parent = fpsCounter

local startTime = tick()
local lastUpdateTime = tick()
local frameCount = 0

RunService.RenderStepped:Connect(function()
    local currentTime = tick()
    local deltaTime = currentTime - lastUpdateTime
    frameCount = frameCount + 1
    
    if frameCount == 1 and untilloaded == true then
       game:GetService("Players").LocalPlayer:Kick("Device Saver: CRASH DETECTED")
    end

    if deltaTime >= 1 then
        local fps = math.round(frameCount / deltaTime)
        local elapsedTime = currentTime - startTime

        local hours = math.floor(elapsedTime / 3600)
        local minutes = math.floor((elapsedTime % 3600) / 60)
        local seconds = math.floor(elapsedTime % 60)

        label.Text = "FPS: " .. fps .. "\nTime Played: " .. hours .. "h " .. minutes .. "m " .. seconds .. "s"

        lastUpdateTime = currentTime
        frameCount = 0
    end
end)

mainopen.MouseButton1Click:Connect(function()
    game:GetService("VirtualInputManager"):SendKeyEvent(true, "LeftControl", false, game)
    game:GetService("VirtualInputManager"):SendKeyEvent(false, "LeftControl", false, game)
end)

local player = game:GetService("Players").LocalPlayer
local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))

-- Prevent the GUI from resetting when the player respawns
screenGui.ResetOnSpawn = false

local circleDot = Instance.new("ImageLabel", screenGui)

-- Set properties for the circle dot
circleDot.Size = UDim2.new(0, 10, 0, 10) -- 10x10 pixels
circleDot.Position = UDim2.new(0.5, -5, 0.476, -5) -- Center horizontally and slightly below center vertically
circleDot.Image = "rbxassetid://4608020054" -- Set the image to a circular dot
circleDot.BackgroundTransparency = 1 -- Make the background transparent

if not require then
    return game:GetService("Players").LocalPlayer:Kick("UNC RESTRICTION MISSING: require(path) | PLEASE TRY OTHER EXECUTORS")
else
print("Supported require()")
end

if not firetouchinterest  then
    return game:GetService("Players").LocalPlayer:Kick("UNC RESTRICTION MISSING: firetouchinterest() | PLEASE TRY OTHER EXECUTORS")
else
print("Supported firetouchinterest()")
end

if not setfpscap or setfpscap(500) then
    return game:GetService("Players").LocalPlayer:Kick("UNC RESTRICTION MISSING: setfpscap() | PLEASE TRY OTHER EXECUTORS")
else
print("Supported setfpscap()")
end

if not setfflag then
    return game:GetService("Players").LocalPlayer:Kick("UNC RESTRICTION MISSING: setfflag() | PLEASE TRY OTHER EXECUTORS")
else
print("Supported setfflag()")
end

if not hookmetamethod then
    return game:GetService("Players").LocalPlayer:Kick("UNC RESTRICTION MISSING: Hookmetamethod() | PLEASE TRY OTHER EXECUTORS")
else
print("Supported hookmetamethod()")
end

if game.Players then
print("Advance Api")
else
print("Common Api")
end

local Window = Fluent:CreateWindow({
    Title = "Unknown Hub X Evade",
    SubTitle = "V1.5 Made by Unknownproooolucky discord.gg/d2a3KkTD6r",
    TabWidth = 160,
    Size = UDim2.fromOffset(580, 460),
    Acrylic = false, -- The blur may be detectable, setting this to false disables blur entirely
    Theme = "Dark",
    MinimizeKey = Enum.KeyCode.LeftControl -- Used when theres no MinimizeKeybind
})
    
Fluent:Notify({
        Title = ":)",
        Content = "",
        SubContent = "", -- Optional
        Duration = 10 -- Set to nil to make the notification not disappear
    })

local Tabs = {
    Main = Window:AddTab({ Title = "Main", Icon = "" }),
    AutoFarm = Window:AddTab({ Title = "Auto Farms", Icon = "" }),
    Nextbot = Window:AddTab({ Title = "Nextbot Mods", Icon = "" }),
    Misc = Window:AddTab({ Title = "Misc", Icon = "" }),
    Settings = Window:AddTab({ Title = "Save Config", Icon = "rbxassetid://7734052335" })
}

local Options = Fluent.Options

-- Main

Tabs.Main:AddParagraph({
        Title = "ESP",
        Content = " "
    })

function Simple_Create(base, name, trackername, studs)
    local bb = Instance.new("BillboardGui")
    bb.Adornee = base
    bb.ExtentsOffset = Vector3.new(0, 1, 0)
    bb.AlwaysOnTop = true
    bb.Size = UDim2.new(0, 6, 0, 6)
    bb.StudsOffset = Vector3.new(0, 1, 0)
    bb.Name = trackername
    bb.Parent = game.CoreGui

    local frame = Instance.new("Frame")
    frame.ZIndex = 10
    frame.BackgroundTransparency = 0.3
    frame.Size = UDim2.new(3, 0, 3, 0)
    frame.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
    frame.Parent = bb

    -- Add UICorner to make the frame circular
    local uiCorner = Instance.new("UICorner")
    uiCorner.CornerRadius = UDim.new(0.5, 0)
    uiCorner.Parent = frame

    local txtlbl = Instance.new("TextLabel")
    txtlbl.ZIndex = 10
    txtlbl.BackgroundTransparency = 1
    txtlbl.Position = UDim2.new(0, 0, 0, -48)
    txtlbl.Size = UDim2.new(1, 0, 10, 0)
    txtlbl.Font = Enum.Font.GothamBold
    txtlbl.Text = name
    txtlbl.TextSize = 14    
    txtlbl.TextStrokeTransparency = 0.5
    txtlbl.TextColor3 = Color3.fromRGB(255, 0, 0)
    txtlbl.Parent = bb
    
    local txtdistance = Instance.new("TextLabel")
    txtdistance.ZIndex = 10
    txtdistance.BackgroundTransparency = 1
    txtdistance.Position = UDim2.new(0, 0, 0, -30)
    txtdistance.Size = UDim2.new(1, 0, 10, 0)
    txtdistance.Font = Enum.Font.GothamBold
    txtdistance.TextSize = 14
    txtdistance.TextStrokeTransparency = 0.5
    txtdistance.TextColor3 = Color3.fromRGB(255, 255, 255)
    txtdistance.Parent = bb
    
    local distance = math.floor((game:GetService("Players").LocalPlayer.Character.HumanoidRootPart.Position - base.Position).Magnitude)
    
    txtdistance.Text = distance.. " M"
end

function ClearESP(espname)
	for _, v in pairs(game.CoreGui:GetChildren()) do
		if v.Name == espname and v:isA("BillboardGui") then
			v:Destroy()
		end
	end
end

function nowaterdmg(t)
	for i, v in next, t:GetChildren() do
		if v.IsA(v, 'BasePart') then
			v.CanTouch = false
		end
	end
end

local BotESP = false

local Toggle = Tabs.Main:AddToggle("ESPBot", {Title = "ESP Bot", Default = false })

    Toggle:OnChanged(function(State)
        BotESP = State
        
        task.spawn(
                function()
			while task.wait(0.2) do
				ClearESP('AI_Tracker')
				if not BotESP then
					break
				end
				pcall(function()
					local GamePlayers = workspace.Game.Players
					for i, v in pairs(GamePlayers:GetChildren()) do
						if not game.Players:FindFirstChild(v.Name) then
							Simple_Create(v.HumanoidRootPart, v.Name, "AI_Tracker")
						end
					end
				end)
			end
	 end)
 end)
    
local PlayerESP = false

local Toggle = Tabs.Main:AddToggle("ESPPlayers", {Title = "ESP Players", Default = false })

Toggle:OnChanged(function(State)
    PlayerESP = State
   
        while PlayerESP and wait(0.37) do
            pcall(function()
                if PlayerESP then
                    local localPlayer = game:GetService("Players").LocalPlayer
                    local localCharacter = localPlayer.Character
                    local localHumanoidRootPart = localCharacter and localCharacter:FindFirstChild("HumanoidRootPart")
                    
                    if not localHumanoidRootPart then
                        return
                    end

                    for _, player in pairs(game.Players:GetPlayers()) do
                        if player ~= localPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                            local character = player.Character
                            local humanoidRootPart = character.HumanoidRootPart

                            if not humanoidRootPart:FindFirstChild("PlayerESP") then
                                local BillboardGui = Instance.new("BillboardGui")
                                local TextLabel = Instance.new("TextLabel")

                                BillboardGui.Parent = humanoidRootPart
                                BillboardGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
                                BillboardGui.Name = "PlayerESP"
                                BillboardGui.AlwaysOnTop = true
                                BillboardGui.LightInfluence = 1.000
                                BillboardGui.Size = UDim2.new(0, 200, 0, 50)
                                BillboardGui.StudsOffset = Vector3.new(0, 2.5, 0)
                                BillboardGui.MaxDistance = 500

                                TextLabel.Parent = BillboardGui
                                TextLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                                TextLabel.BackgroundTransparency = 1.000
                                TextLabel.Size = UDim2.new(0, 200, 0, 50)
                                TextLabel.TextScaled = false
                                TextLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
                                TextLabel.Font = Enum.Font.GothamBold
                                TextLabel.TextSize = 14
                            end

                            local distance = math.floor((localHumanoidRootPart.Position - humanoidRootPart.Position).Magnitude)
                            local labelText = string.format("%s - %d M", player.Name, distance)

                            local gamePlayer = workspace:WaitForChild("Game", 1337).Players:FindFirstChild(player.Name)
                            if gamePlayer and gamePlayer:GetAttribute('Downed') then
                                humanoidRootPart.PlayerESP.TextLabel.TextColor3 = Color3.fromRGB(255, 0, 0)
                                labelText = labelText .. " (Downed)"
                            elseif gamePlayer and gamePlayer:GetAttribute('Team') == "Enemy" then
                                humanoidRootPart.PlayerESP.TextLabel.TextColor3 = Color3.fromRGB(255, 0, 0)
                                labelText = labelText .. " (Enemy)"
                            else
                                humanoidRootPart.PlayerESP.TextLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
                            end
                            
                            humanoidRootPart.PlayerESP.TextLabel.Text = labelText
                        end
                    end
                else
                    for _, player in pairs(game.Players:GetPlayers()) do
                        if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                            local humanoidRootPart = player.Character.HumanoidRootPart
                            local esp = humanoidRootPart:FindFirstChild("PlayerESP")
                            if esp then
                                esp:Destroy()
                            end
                        end
                    end
                end
            end)
        end
end)

local ObjectiveESP = false

local Toggle = Tabs.Main:AddToggle("ESPObjective", {Title = "ESP Objective", Default = false })

    Toggle:OnChanged(function(State)
        ObjectiveESP = State
        
        task.spawn(
                function()
			while task.wait(0.2) do
				ClearESP('Object_Tracker')
				if not ObjectiveESP then
					break
				end
				pcall(function()
		          if workspace.Game.Map.Parts:FindFirstChild("Objectives") then
              	   for i, v in next, workspace.Game.Map.Parts.Objectives:GetChildren() do
						Simple_Create(v:FindFirstChildWhichIsA("BasePart"), "(OBJECTIVES)", "Object_Tracker")
						end
					end
				end)
			end
	 end)
 end)

Tabs.Main:AddParagraph({
        Title = "Game Mods",
        Content = " "
    })
    
local AutoRespawn = false

local Toggle = Tabs.Main:AddToggle("AutoRespawn", {Title = "Auto Respawn", Default = false })

    Toggle:OnChanged(function(State)
        AutoRespawn = State
      repeat
      wait(0.1)
      if AutoRespawn then
		 local char = game:GetService("Players").LocalPlayer.Character or game:GetService("Players").LocalPlayer.CharacterAdded:Wait()
			local stats = char:WaitForChild("StatChanges", 3)
			if stats == nil then
				return
			end
			if stats:FindFirstChild("Speed") and stats:FindFirstChild("Speed"):FindFirstChild("Downed") then
				game:GetService("ReplicatedStorage").Events.Respawn:FireServer()
			end
		end
		until AutoRespawn == false
    end)

local AutoWhistle = false

function autowistlefunction()
    local ohString1 = "Whistle"
    local ohBoolean2 = true
     game:GetService("Players").LocalPlayer.PlayerScripts.Events.KeybindUsed:Fire(ohString1, ohBoolean2)
   game:GetService("ReplicatedStorage").Events.Whistle:FireServer()
end

local Toggle = Tabs.Main:AddToggle("AutoRespawn", {Title = "Auto Whistle", Default = false })

    Toggle:OnChanged(function(State)
        AutoWhistle = State
      while task.wait(1) and AutoWhistle do
			autowistlefunction()
		end
    end)
    
local Revive_Mod = false
    
local Toggle = Tabs.Main:AddToggle("QuickRevive", {Title = "Quick Revive", Default = false })

    Toggle:OnChanged(function(State)
    Revive_Mod = State
if Revive_Mod then
workspace.Game.Settings:SetAttribute("ReviveTime", 1.75)
		else
workspace.Game.Settings:SetAttribute('ReviveTime', 3)
		end        
    end)
    
local NoCameraShake = false

local Toggle = Tabs.Main:AddToggle("NoCamShake", {Title = "No Camera Shake", Default = false })

    Toggle:OnChanged(function(State)
    NoCameraShake = State
while NoCameraShake and wait(0.1) do
game:GetService("Players").LocalPlayer.PlayerScripts.CameraShake.Value = CFrame.new(0,0,0) * CFrame.new(0,0,0)
		end        
    end)
 
local NoDamage = false

function disabletouch()
if game:GetService("Players").LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
     nowaterdmg(game:GetService("Players").LocalPlayer.Character)
    end
end

local Toggle = Tabs.Main:AddToggle("RemoveDamageParts", {Title = "Remove Damage Parts", Default = false })

    Toggle:OnChanged(function(State)
    NoDamage = State
repeat
wait(0.1)
if NoDamage then
disabletouch()
		end  
	 until NoDamage == false
    end)
    
Tabs.Main:AddParagraph({
        Title = "Character Mods",
        Content = " "
    })
    
local Toggle = Tabs.Main:AddToggle("Noclip", {Title = "Noclip", Default = false })

local NoClipx = false

local function Noclip()
            pcall(function()
                for i, v in pairs(game:GetService("Players").LocalPlayer.Character:GetDescendants()) do
                    if v:IsA("BasePart") then
                        v.CanCollide = false
                 end
            end
      end)
end

    Toggle:OnChanged(function(State)
NoClipx = State
repeat
if NoClipx then
   Noclip()
       wait(0.1)
        end
       until not NoClipx == true
    end)

Options.Noclip:SetValue(false)

local RunService = game:GetService("RunService")

local FLYING = false
local velocityHandlerName = "VelocityHandler"
local gyroHandlerName = "GyroHandler"
local mfly1, mfly2
local currentCharacter

local function getRoot(character)
    return character:FindFirstChild("HumanoidRootPart") or character:FindFirstChild("Torso")
end

local function unmobilefly(player)
    pcall(function()
        FLYING = false
        local character = player.Character
        if character then
            local root = getRoot(character)
            if root then
                local velocityHandler = root:FindFirstChild(velocityHandlerName)
                local gyroHandler = root:FindFirstChild(gyroHandlerName)

                if velocityHandler then
                    velocityHandler:Destroy()
                end

                if gyroHandler then
                    gyroHandler:Destroy()
                end

                local humanoid = character:FindFirstChildWhichIsA("Humanoid")
                if humanoid then
                    humanoid.PlatformStand = false
                end
            end
        end

        if mfly1 then
            mfly1:Disconnect()
        end

        if mfly2 then
            mfly2:Disconnect()
        end
    end)
end

local function mobilefly(player, vfly)
    unmobilefly(player)
    FLYING = true

    local character = player.Character
    local root = getRoot(character)

    if character and root then
        local camera = workspace.CurrentCamera
        local v3none = Vector3.new()
        local v3zero = Vector3.new(0, 0, 0)
        local v3inf = Vector3.new(9e9, 9e9, 9e9)

        local controlModule = require(player.PlayerScripts:WaitForChild("PlayerModule"):WaitForChild("ControlModule"))
        local bv = Instance.new("BodyVelocity")
        bv.Name = velocityHandlerName
        bv.Parent = root
        bv.MaxForce = v3zero
        bv.Velocity = v3zero

        local bg = Instance.new("BodyGyro")
        bg.Name = gyroHandlerName
        bg.Parent = root
        bg.MaxTorque = v3inf
        bg.P = 1000
        bg.D = 20

        mfly1 = player.CharacterAdded:Connect(function()
            unmobilefly(player)
            currentCharacter = player.Character
            mobilefly(player, vfly)
        end)

        mfly2 = RunService.RenderStepped:Connect(function()
            root = getRoot(player.Character)
            camera = workspace.CurrentCamera
            if player.Character:FindFirstChildWhichIsA("Humanoid") and root and root:FindFirstChild(velocityHandlerName) and root:FindFirstChild(gyroHandlerName) then
                local humanoid = player.Character:FindFirstChildWhichIsA("Humanoid")
                local VelocityHandler = root:FindFirstChild(velocityHandlerName)
                local GyroHandler = root:FindFirstChild(gyroHandlerName)

                if VelocityHandler and GyroHandler then
                    VelocityHandler.MaxForce = v3inf
                    GyroHandler.MaxTorque = v3inf

                    if not vfly and humanoid then
                        humanoid.PlatformStand = false
                    end

                    GyroHandler.CFrame = camera.CoordinateFrame
                    VelocityHandler.Velocity = v3none

                    local direction = controlModule:GetMoveVector()
                    if direction.X ~= 0 or direction.Z ~= 0 then
                        local moveVector = Vector3.new(direction.X, 0, direction.Z).unit
                        local rightVector = camera.CFrame.RightVector
                        local forwardVector = camera.CFrame.LookVector

                        local flyDirection = (rightVector * moveVector.X - forwardVector * moveVector.Z).unit

                        VelocityHandler.Velocity = flyDirection * (_G.flySpeed * 20)
                        RunService.RenderStepped:Wait()
                    end
                end
            end
        end)
    end
end

local function toggleFly(player, toggleValue)
    if toggleValue then
        mobilefly(player, true)
    else
        unmobilefly(player)
    end
end

-- Your loop structure
_G.loops = false

local function flyLoop()
    while wait(10) do
        if _G.loops then
            local player = game:GetService("Players").LocalPlayer
            if player and player.Character then
                mobilefly(player, true)
            end
        end
    end
end

local Toggle = Tabs.Main:AddToggle("FlyToggle", { Title = "Fly Toggle", Default = false })

Toggle:OnChanged(function()
    local player = game:GetService("Players").LocalPlayer
    _G.loops = Toggle.Value
    toggleFly(player, Toggle.Value)
end)

Options.FlyToggle:SetValue(false)

_G.flySpeed = 20  -- Default fly speed

local FlySpeedInput = Tabs.Main:AddInput("FlySpeedInput", {
    Title = "Fly Speed",
    Default = tostring(_G.flySpeed),
    Placeholder = "Enter fly speed",
    Numeric = true,
    Finished = false,
    Callback = function(Value)
        _G.flySpeed = tonumber(Value) or 20
        toggleFly(player, Toggle.Value)
    end
})

-- Start the loop
spawn(flyLoop)

Tabs.Main:AddParagraph({
        Title = "Manual",
        Content = " "
    })

Tabs.Main:AddButton({
        Title = "Respawn Button",
        Description = "",
        Callback = function()
        game:GetService("ReplicatedStorage").Events.Respawn:FireServer()
        end
    })
    
Tabs.Main:AddButton({
        Title = "Open Leaderboard",
        Description = "",
        Callback = function()
        game:GetService("VirtualInputManager"):SendKeyEvent(true, "Tab", false, game)
        end
    })

-- AutoFarm

Tabs.AutoFarm:AddParagraph({
        Title = "Auto Farm",
        Content = "Recommend: Enable Quick Revive to Farm Money Faster"
    })

local FarmMoney = false
local FarmTickets = false
local AFKFarm = false
local WorkspacePlayers = game:GetService("Workspace").Game.Players 

local GetDownedPlr = function()
    for i,v in pairs(WorkspacePlayers:GetChildren()) do
        if v:GetAttribute("Downed") then
            return v
        end
    end
end
 
local revive = function()
    local downedplr = GetDownedPlr()
    if downedplr ~= nil and downedplr:FindFirstChild('HumanoidRootPart') then
        task.spawn(function()
            while task.wait() do
                if game:GetService("Players").LocalPlayer.Character then
                    game:GetService("Players").LocalPlayer.Character:FindFirstChild('HumanoidRootPart').CFrame = CFrame.new(downedplr:FindFirstChild('HumanoidRootPart').Position.X, downedplr:FindFirstChild('HumanoidRootPart').Position.Y + 1.5, downedplr:FindFirstChild('HumanoidRootPart').Position.Z)
                    task.wait()
                    game:GetService("ReplicatedStorage").Events.Revive.RevivePlayer:FireServer(tostring(downedplr), false)
                    task.wait(4.5)
                    game:GetService("ReplicatedStorage").Events.Revive.RevivePlayer:FireServer(tostring(downedplr), true)
                    game:GetService("ReplicatedStorage").Events.Revive.RevivePlayer:FireServer(tostring(downedplr), true)
                    game:GetService("ReplicatedStorage").Events.Revive.RevivePlayer:FireServer(tostring(downedplr), true)
                    break
                end
            end
        end)
    end
end

task.spawn(function()
    while task.wait() do
        if FarmMoney then
            if game:GetService("Players").LocalPlayer.Character and game:GetService("Players").LocalPlayer.Character:GetAttribute("Downed") then
                game:GetService("ReplicatedStorage").Events.Respawn:FireServer()
                task.wait(3)
            else
                revive()
                task.wait(1)
            end
        end
        if FarmMoney == false and AFKFarm and game:GetService("Players").LocalPlayer.Character:FindFirstChild('HumanoidRootPart') ~= nil then
            game:GetService("Players").LocalPlayer.Character:FindFirstChild('HumanoidRootPart').CFrame = CFrame.new(6007, 7005, 8005)
        end
    end
end)

local Toggle = Tabs.AutoFarm:AddToggle("AutoFarmMoney", {Title = "Auto Farm Money", Default = false })

    Toggle:OnChanged(function(State)
    FarmMoney = State
    end)

local Toggle = Tabs.AutoFarm:AddToggle("AutoFarmTickets", {Title = "Auto Farm Tickets", Default = false })

    Toggle:OnChanged(function(State)
    FarmTickets = State
if FarmTickets then
         part = Instance.new("Part", workspace)
			part.Anchored = true
			part.CFrame = CFrame.new(100, 496, 100)
		end
		while task.wait(0.5) and FarmTickets do
			if not FarmTickets then
				break
			end
			local char = game:GetService("Players").LocalPlayer.Character or game:GetService("Players").LocalPlayer.CharacterAdded:Wait()
			local tickets = workspace.Game.Effects.Tickets
			local hrp = char:WaitForChild("HumanoidRootPart", 3)
			if hrp == nil then
				return
			end
			hrp.CFrame = CFrame.new(100, 500, 100)
			for i, v in next, tickets:GetDescendants() do
				if v.IsA(v, "BasePart") and v.Name == "HumanoidRootPart" then
					hrp.CFrame = CFrame.new(v.Position)
				end
			end
		end
    end)
    
local Toggle = Tabs.AutoFarm:AddToggle("AFKFarm", {Title = "AFK Farm", Default = false })

    Toggle:OnChanged(function(State)
    AFKFarm = State
    end)

Tabs.AutoFarm:AddParagraph({
        Title = "Teleports",
        Content = ""
    })

function tptoobjective()
local hrp = game:GetService("Players").LocalPlayer.Character.HumanoidRootPart
	if workspace.Game.Map.Parts:FindFirstChild("Objectives") then
		for i, v in next, workspace.Game.Map.Parts.Objectives:GetChildren() do
			if v.IsA(v, "Model") then
				hrp.CFrame = CFrame.new(v:FindFirstChildWhichIsA("BasePart").Position)
			end
		end
	end
end

Tabs.AutoFarm:AddButton({
        Title = "Teleport to Objective",
        Description = "",
        Callback = function()
        tptoobjective()
        end
    })
    
-- Nextbot

Tabs.Nextbot:AddParagraph({
        Title = "Anti Nextbot",
        Content = " "
    })

local SelectTeleportation = "Spawn"
local AntiNextbotDistance = 15

function AntiNextbot()
    if game.Workspace:FindFirstChild("Game") and game.Workspace.Game:FindFirstChild("Players") and game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
    
        local playerTeam = game.Workspace.Game.Players[game.Players.LocalPlayer.Name]:GetAttribute("Team")
        if playerTeam == "Enemy" then
            return -- Exit the function if the player is on the "Enemy" team
        end
    
        for i, v in pairs(game.Workspace.Game.Players:GetDescendants()) do
            if v:IsA("Model") and v:GetAttribute("Team") == "Enemy" then
                local humanoidRootPart = v:FindFirstChild("HumanoidRootPart") or v:FindFirstChild("HRP")
                if humanoidRootPart then
                    local distance = (game.Players.LocalPlayer.Character.HumanoidRootPart.Position - humanoidRootPart.Position).Magnitude
                    
                    if distance < AntiNextbotDistance then
                        if SelectTeleportation == "Spawn" then
                            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(Vector3.new(0, -5000, 0))                         
                        elseif SelectTeleportation == "Players" then
                            local randomPlayer = game.Players:GetPlayers()[math.random(1, #game.Players:GetPlayers())]
                            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(Vector3.new(randomPlayer.Character.Head.Position.X, randomPlayer.Character.Head.Position.Y, randomPlayer.Character.Head.Position.Z))
                        end
                    end
                end
            end
        end
    end
end

local AntiNextbotT = falae

local Toggle = Tabs.Nextbot:AddToggle("AntiNextbotToggle", {Title = "Anti Nextbot Toggle", Default = false })

    Toggle:OnChanged(function(Val)
    AntiNextbotT = Val
        
    while AntiNextbotT and wait(0.1) do
       AntiNextbot()
       end
    end)

local Dropdown = Tabs.Nextbot:AddDropdown("AntiBotTeleport", {
        Title = "Anti Nextbot Teleport Type",
        Values = {"Spawn", "Players"},
        Multi = false,
        Default = 1,
    })

    Dropdown:OnChanged(function(Value)
        SelectTeleportation = Value
    end)
    
 local Input = Tabs.Nextbot:AddInput("NextbotDistance", {
    Title = "Anti Nextbot Distance",
    Default = 15,
    Placeholder = "Number",
    Numeric = false, -- Only allows numbers
    Finished = false, -- Only calls callback when you press enter
    Callback = function(Value)
        -- Convert the input value to a number
        AntiNextbotDistance = tonumber(Value) or 15 -- Default to 15 if the conversion fails
    end
})
    

function KillAll()
    if game.Workspace:FindFirstChild("Game") and game.Workspace.Game:FindFirstChild("Players") and game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        for _, player in pairs(game.Players:GetPlayers()) do
            if player ~= game.Players.LocalPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = player.Character.HumanoidRootPart.CFrame * CFrame.new(0, 0, 2)
            end
        end
    end
end

local HitboxSize = 3
local HitboxTrans = 1

function KillAura()
for i,v in next, game:GetService('Players'):GetPlayers() do
		if v.Name ~= game:GetService('Players').LocalPlayer.Name and not v:GetAttribute("Team") == "Enemy" then
			pcall(function()
				v.Character.HumanoidRootPart.Size = Vector3.new(HitboxSize, HitboxSize, HitboxSize)
				v.Character.HumanoidRootPart.Transparency = HitboxTrans
				v.Character.HumanoidRootPart.CanCollide = false
			end)
    	end
	end 
end

function DisKillAura()
for i,v in next, game:GetService('Players'):GetPlayers() do
		if v.Name ~= game:GetService('Players').LocalPlayer.Name then
		local NormalSizeX = 3
		local NormalSizeY = 5
		local NormalSizeZ = 3
			pcall(function()
				v.Character.HumanoidRootPart.Size = Vector3.new(NormalSizeX, NormalSizeY, NormalSizeZ)
				v.Character.HumanoidRootPart.Transparency = 1
				v.Character.HumanoidRootPart.CanCollide = false
			end)
    	end
	end 
end

Tabs.Nextbot:AddParagraph({
        Title = "Enemy Mode",
        Content = "Player Nextbot / Imposter"
    })
    
local HitboxToggle = false
local KillAllT = false

local Toggle = Tabs.Nextbot:AddToggle("HitboxPlayers", {Title = "Kill All", Default = false })

    Toggle:OnChanged(function(Vale)
    KillAllT = Vale
        
    while KillAllT and wait(0.1) do
       KillAll()
       end
    end)

local Toggle = Tabs.Nextbot:AddToggle("HitboxPlayers", {Title = "Hitbox Players", Default = false })

    Toggle:OnChanged(function(Vals)
    HitboxToggle = Vals
    
    if not HitboxToggle then
      DisKillAura()
    end
        
    while HitboxToggle and wait(0.1) do
       KillAura()
       end
    end)

local Input = Tabs.Nextbot:AddInput("HitboxSize", {
        Title = "Hitbox Size",
        Default = "3",
        Placeholder = "Number",
        Numeric = false, -- Only allows numbers
        Finished = false, -- Only calls callback when you press enter
        Callback = function(Value)
            HitboxSize = Value
        end
    })
    
local Input = Tabs.Nextbot:AddInput("HitboxTrans", {
        Title = "Hitbox Transparency",
        Default = "1",
        Placeholder = "Number",
        Numeric = false, -- Only allows numbers
        Finished = false, -- Only calls callback when you press enter
        Callback = function(Value)
            HitboxTrans = Value
        end
    })

-- Misc

Tabs.Misc:AddParagraph({
        Title = "Adjustments",
        Content = " "
    })

local TSpeed = 1500
local TJump = 3
local SavedSpeed = 1500
local SavedJump = 3

local Input = Tabs.Misc:AddInput("PlayerSpeed", {
        Title = "Player Speed",
        Default = "1500",
        Placeholder = "Speed Number",
        Numeric = false, -- Only allows numbers
        Finished = false, -- Only calls callback when you press enter
        Callback = function(Value)
            TSpeed = tonumber(Value) or 1500
            SavedSpeed = tonumber(Value) or 1500
        end
    })
    
local Input = Tabs.Misc:AddInput("PlayerJump", {
        Title = "Player Jump",
        Default = "3",
        Placeholder = "Speed Number",
        Numeric = false, -- Only allows numbers
        Finished = false, -- Only calls callback when you press enter
        Callback = function(Value)
            TJump = tonumber(Value) or 3
            SavedJump = tonumber(Value) or 3
        end
    })

Tabs.Misc:AddParagraph({
        Title = "Emote Dash",
        Content = "Requirements: Equip Light and Crouch then Emote"
    })

local FakeEmoteDownDash = false
local FakeEmoteDownDash2 = false
local SelectedEmoteSpeed = 10000

local Toggle = Tabs.Misc:AddToggle("EmoteD1", {Title = "Fake Emote/Down Dash", Default = false })

    Toggle:OnChanged(function(State)
        FakeEmoteDownDash = State
      if not FakeEmoteDownDash then
      TSpeed = SavedSpeed
      end
    
    repeat
      wait()
       if FakeEmoteDownDash then
       if game.Workspace:FindFirstChild("Game") and game.Workspace.Game:FindFirstChild("Players") and game.Workspace.Game.Players:FindFirstChild(game:GetService("Players").LocalPlayer.Name) then
			local char = game:GetService("Players").LocalPlayer.Character or game:GetService("Players").LocalPlayer.CharacterAdded:Wait()
			local stats = char:WaitForChild("StatChanges", 3)
			if stats == nil then
			  TSpeed = SavedSpeed
				return
			end
			local EmoteError = char:GetAttribute("Emoting")
			if char:GetAttribute("Crouching") == true and EmoteError and EmoteError == true then
				TSpeed = SelectedEmoteSpeed
			elseif stats:FindFirstChild("Speed") and stats:FindFirstChild("Speed"):FindFirstChild("Downed") and char:GetAttribute("Crouching") == true then
			    TSpeed = 7500
			else
			    TSpeed = SavedSpeed
			end
		end
     end
		until FakeEmoteDownDash == false
    end)

local Toggle = Tabs.Misc:AddToggle("EmoteD2", {Title = "Fake Emote Dash (No Crouching)", Default = false })

    Toggle:OnChanged(function(State)
        FakeEmoteDownDash2 = State
      if not FakeEmoteDownDash2 then
      TSpeed = SavedSpeed
      end
    
    repeat
      wait()
       if FakeEmoteDownDash2 then
           if game.Workspace:FindFirstChild("Game") and game.Workspace.Game:FindFirstChild("Players") and game.Workspace.Game.Players:FindFirstChild(game:GetService("Players").LocalPlayer.Name) then
			local char = game:GetService("Players").LocalPlayer.Character or game:GetService("Players").LocalPlayer.CharacterAdded:Wait()
			local stats = char:WaitForChild("StatChanges", 3)
			if stats == nil then
			  TSpeed = SavedSpeed
				return
			end
			local EmoteError = char:GetAttribute("Emoting")
			if EmoteError and EmoteError == true then
				TSpeed = SelectedEmoteSpeed
			else
			    TSpeed = SavedSpeed
			end
		end
     end
		until FakeEmoteDownDash2 == false
    end)

  local Dropdown = Tabs.Misc:AddDropdown("EmoteSpeed", {
        Title = "Emote Dash Speed",
        Values = {4500, 10000, 15000, 25000, 35000, 45000, 55000, 67000, 75000, 80000, 95000, 100000, 125000},
        Multi = false,
        Default = 2,
    })

    Dropdown:OnChanged(function(Value)
        SelectedEmoteSpeed = Value
    end)

local old
old = hookmetamethod(game,"__namecall",newcclosure(function(self,...)
    local Args = {...}
    local method = getnamecallmethod()
    if tostring(self) == 'Communicator' and method == "InvokeServer" and Args[1] == "update" then
        return TSpeed, TJump 
    end
    return old(self,...)
end))

Tabs.Misc:AddParagraph({
        Title = "Adjusting Bounce",
        Content = "(Only works in trimping)\nWarning: Do not Put too high like 1000-2500"
    })
    
local BounceToggle = false
local AdjustedBounce = 80

local Toggle = Tabs.Misc:AddToggle("AdjustBounce", {Title = "Adjust Bounce Toggle", Default = false })

    Toggle:OnChanged(function(State)
        BounceToggle = State
        
     if not  BounceToggle then
       game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = 0
     end
     
  while BounceToggle and wait(0.1) do
    local player = game.Players.LocalPlayer

    if player.Character and player.Character:FindFirstChild("Humanoid") then
       local SpeedValue = player.Character:GetAttribute("CurrentMoveSpeed")
          player.Character.Humanoid.WalkSpeed = SpeedValue + AdjustedBounce
        if player.Character:GetAttribute("Emoting") == true or SpeedValue == 0 then
          player.Character.Humanoid.WalkSpeed = 0
       end
    end
end
    end)

local Input = Tabs.Misc:AddInput("PlayerBounce", {
        Title = "Player Bounce",
        Default = "80",
        Placeholder = "Bounce Number",
        Numeric = false, -- Only allows numbers
        Finished = false, -- Only calls callback when you press enter
        Callback = function(Value)
            AdjustedBounce = tonumber(Value) or 80
        end
    })

Tabs.Misc:AddParagraph({
        Title = "Bhop",
        Content = " "
    })
    
local BHopKey = false
    
local Keybind = Tabs.Misc:AddKeybind("KeyBHOP", {
        Title = "Keybind to BHOP",
        Mode = "Toggle", -- Always, Toggle, Hold
        Default = "B",
        
        Callback = function(Bool)
        BHopKey = Bool
          spawn(function()
            while true and wait(0.1) do
                if BHopKey then
               local humanoid = game:GetService("Players").LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
--        if humanoid and humanoid.FloorMaterial ~= Enum.Material.Air and humanoid then
--            humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
--            end
                 setfflag("MaxAltitudePDStickHipHeightPercent", "-24")
             else
                 setfflag("MaxAltitudePDStickHipHeightPercent", "1")
                end
           end
       end)

  spawn(function()
     while true and wait(1.5) do
      if BHopKey then
           game.Players.LocalPlayer.Character.Communicator:InvokeServer("Jump")
           end
        end
     end)
   end,

        ChangedCallback = function(New)
            print("Keybind changed!", New)
        end
    })
    
Tabs.Misc:AddParagraph({
        Title = "Mobile/Tablet Version",
        Content = ""
    })
 
local BHop = false
local delay = 1

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local UserInputService = game:GetService("UserInputService")

local BHop2 = false

local function createtoggle()
    -- Create ScreenGui
    local screenGui = Instance.new("ScreenGui")
    screenGui.Parent = game.CoreGui
    screenGui.Name = "BHopToggle"
    screenGui.ResetOnSpawn = false
    
    -- Create Frame
    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(0, 200, 0, 50)
    frame.Position = UDim2.new(1, -200, 0.5, -40)
    frame.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
    frame.BackgroundTransparency = 1
    frame.Parent = screenGui

    -- Make frame draggable
    frame.Active = true
    frame.Draggable = true

    -- Create Toggle Button
    local toggleButton = Instance.new("TextButton")
    toggleButton.Size = UDim2.new(1, 0, 1, 0)
    toggleButton.BackgroundColor3 = Color3.new(0.3, 0.3, 0.3)
    toggleButton.Text = "Auto Jump: OFF"
    toggleButton.Parent = frame

    -- Toggle Button Functionality
    toggleButton.MouseButton1Click:Connect(function()
        BHop2 = not BHop2
        toggleButton.Text = BHop2 and "Auto Jump: ON" or "Auto Jump: OFF"
    end)
    
    MakeDraggable(toggleButton, frame)
end


-- Auto-Jump
spawn(function()
while true and wait(0.1) do
    if BHop2 then
   setfflag("MaxAltitudePDStickHipHeightPercent", "-24") 
        local humanoid = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
        if humanoid and humanoid.FloorMaterial ~= Enum.Material.Air and humanoid then
            humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
            end
      else
      setfflag("MaxAltitudePDStickHipHeightPercent", "1")
       end
    end
end)

spawn(function()
     while true and wait(1.5) do
      if BHop2 then
          game.Players.LocalPlayer.Character.Communicator:InvokeServer("Jump")
         end
     end
 end)

local Players = game:GetService("Players")

local function onPlayerRemoving()
setfflag("MaxAltitudePDStickHipHeightPercent", "1")
end

-- Connect the function to the PlayerRemoving event
Players.PlayerRemoving:Connect(onPlayerRemoving)

function destroytoggle()
local target = game.CoreGui

if target:FindFirstChild("BHopToggle") then
target.BHopToggle:Destroy()
end
end

local Toggle = Tabs.Misc:AddToggle("BHOPToggle", {Title = "BHOP Toggle", Default = false })

    Toggle:OnChanged(function(State)
 BHop = State
if BHop then
createtoggle()
else
destroytoggle()
end
end)

local SelectedCharacter = ""
local SelectedUtilities = ""

function UpdateFakeEquipment()
game.Workspace.Game.Players[game:GetService("Players").LocalPlayer.Name]:SetAttribute("Character", SelectedCharacter)
game.Workspace.Game.Players[game:GetService("Players").LocalPlayer.Name]:SetAttribute("Equipped", SelectedUtilities)
end

Tabs.Misc:AddParagraph({
        Title = "Fake Equipment",
        Content = "(Visual)"
    })
 
 local Dropdown = Tabs.Misc:AddDropdown("SelectionCharacter", {
        Title = "Select Character",
        Values = {"Player", "Jard", "Clownjard", "Bobo", "Seal", "Trooper", "DefectRebel", "Vanguard", "Krampus"},
        Multi = false,
        Default = 1,
    })

    Dropdown:OnChanged(function(Value)
        SelectedCharacter = Value
    end)
    
local Dropdown = Tabs.Misc:AddDropdown("SelectionUtility", {
        Title = "Select Utility",
        Values = {"Weaponless", "Compass", "Timer", "Decoy", "Radio", "Grapple", "AK-47", "Lantern", "Flashlight", "Night Vision", "Wrench"},
        Multi = false,
        Default = 1,
    })

    Dropdown:OnChanged(function(Value)
        SelectedUtilities = Value
    end)
    
 Tabs.Misc:AddButton({
        Title = "Update Selected Fake Equipment",
        Description = "",
        Callback = function()
          UpdateFakeEquipment()
        end
    })

Tabs.Misc:AddParagraph({
        Title = "Modified Client",
        Content = " "
    })

local Lighting = game:GetService("Lighting")
local normalambient = Lighting.Ambient
local normalcolorshift = Lighting.ColorShift_Bottom
local normalcolorshift2 = Lighting.ColorShift_Top
local normalfog1 = Lighting.FogEnd
local normalfog2 = Lighting.FogStart
local normalGlobalshadow = Lighting.GlobalShadows
local normalclock = Lighting.ClockTime
local normalbrightness = Lighting.Brightness

function fb()
            Lighting.Ambient = Color3.new(1, 1, 1)
            Lighting.ColorShift_Bottom = Color3.new(1, 1, 1)
            Lighting.ColorShift_Top = Color3.new(1, 1, 1)
            Lighting.FogEnd = 100000
            Lighting.FogStart = 0
            Lighting.GlobalShadows = false
            Lighting.ClockTime = 14
            Lighting.Brightness = 2
end

function nofb()
            Lighting.Ambient = normalambient
            Lighting.ColorShift_Bottom = normalcolorshift
            Lighting.ColorShift_Top = normalcolorshift2
            Lighting.FogEnd = normalfog1
            Lighting.FogStart = normalfog2
            Lighting.GlobalShadows = normalGlobalshadow
            Lighting.ClockTime = normalclock
            Lighting.Brightness = normalbrightness
end
 
  local Fullbrighting = false
 
 local Toggle = Tabs.Misc:AddToggle("FullBright", {Title = "Full Bright", Default = false })

    Toggle:OnChanged(function(StateFB)
 Fullbrighting = StateFB
     if Fullbrighting then
          fb()
       else
          nofb()
       end
end)

Options.FullBright:SetValue(false)

Tabs.Misc:AddButton({
        Title = "Accurate Low Quality",
        Description = "",
        Callback = function()
        -- made by guesttester_1 (pls credit to me)
-- i forgot to add remove textures script

setfpscap(900) -- normal fps cap for other executors

setfflag("TaskSchedulerTargetFps", "900") -- for setfpscap unc missing or unsupported for executors

local function removeWater()
    for _, obj in pairs(workspace:GetDescendants()) do
        if obj:IsA("Terrain") then
            obj.WaterTransparency = 1
            obj.WaterWaveSize = 0
            obj.WaterWaveSpeed = 0
            obj.WaterReflectance = 0
        end
    end
end

local function removeReflections()
    local lighting = game:GetService("Lighting")
    lighting.EnvironmentSpecularScale = 0
    lighting.EnvironmentDiffuseScale = 0
end

local function removeEffects()
    for _, effect in pairs(workspace:GetDescendants()) do
        if effect:IsA("ParticleEmitter") or effect:IsA("Smoke") or effect:IsA("Fire") or effect:IsA("Sparkles") then
            effect.Enabled = false
        end
    end
end

local function removeExplosions()
    for _, explosion in pairs(workspace:GetDescendants()) do
        if explosion:IsA("Explosion") then
            explosion:Destroy()
        end
    end
end

local function setLowShadows()
    game.Lighting.GlobalShadows = false
end

local function setLowQuality()
    settings().Rendering.QualityLevel = Enum.QualityLevel.Level01
end

local function setLowGraphics()
local Lighting = game:FindService("Lighting")

setscriptable(Lighting, "Technology", true)
Lighting.Technology = Enum.Technology.Legacy

for _, v in next, workspace:GetDescendants() do
    if v:IsA("PointLight") or v:IsA("SpotLighting") or v:IsA("SurfaceLight") then
        local Light = v
        if not Light.Shadows then
            Light.Shadows = true
        end
    end
end
end

local function reduceLag()
    removeWater()
    removeReflections()
    removeEffects()
    removeExplosions()
    setLowShadows()
    setLowQuality()
--    setLowGraphics()
end

reduceLag()

workspace.DescendantAdded:Connect(function(descendant)
    if descendant:IsA("Terrain") or descendant:IsA("ParticleEmitter") or descendant:IsA("Smoke") or descendant:IsA("Fire") or descendant:IsA("Sparkles") or descendant:IsA("Explosion") then
      wait(0.1)
        reduceLag()
     end
end)

        end
 })

setfflag("TaskSchedulerTargetFps", "900")

-- Settings

Tabs.Settings:AddParagraph({
        Title = "Save Config",
        Content = " "
    })

SaveManager:SetLibrary(Fluent)
InterfaceManager:SetLibrary(Fluent)

SaveManager:SetIgnoreIndexes({})

-- Save Folder
InterfaceManager:SetFolder("UnknownHubXUniversal")
SaveManager:SetFolder("UnknownHubXUniversal/Evade")

InterfaceManager:BuildInterfaceSection(Tabs.Settings)
SaveManager:BuildConfigSection(Tabs.Settings)

Window:SelectTab(1)

-- Auto Load Configuration
SaveManager:LoadAutoloadConfig()
